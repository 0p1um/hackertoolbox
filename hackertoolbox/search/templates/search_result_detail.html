{% extends "base_search.html" %}

{% block content %}
{% load bootstrap4 %}

<h2>Result information:</h2>
<ul class="list-group">
    <li class="list-group-item"><strong>Result from search:</strong> {{ object.search }}</li>
    <li class="list-group-item"><strong>Date done:</strong> {{ object.search.now }}</li>
</ul>

{% for dataset in object.search.datasets.all %}
<h3>Matches in dataset {{ dataset.name }}</h3>
<ul class="list-group">
    <li class="list-group-item"><strong>Dataset name:</strong>{{ dataset.name }}</li>
    <li class="list-group-item"><strong>Date of the dataset:</strong>{{ dataset }}</li>
    <li class="list-group-item"><strong>Cipher format of the data:</strong>{{ dataset.cipher_format }}</li>
    <li class="list-group-item"><strong>Compromised data:</strong>{{ dataset.compromised_data }}</li>
    <li class="list-group-item"><strong>Dataset description:</strong>{{ dataset.description }}</li>
    <li class="list-group-item"><strong>Dataset path in the server:</strong>{{ dataset.path }}</li>
    <li class="list-group-item text-center"><strong>Matching rows found</strong></li>
    {% for item in object.item_set.all %}
    {% if item.dataset.name == dataset.name %}    
    <li class="list-group-item list-group-item-primary">{{ item.row }}</li>
    {% endif %}
    {% endfor %}
</ul>
<br>
    {% endfor %}
<br>
{% endblock %}
